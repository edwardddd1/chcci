"use strict";(self["webpackChunkstudent_portal_vue"]=self["webpackChunkstudent_portal_vue"]||[]).push([[139],{8139:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});var i=s(641),n=s(33);const o={key:0},r={key:1},a={class:"card shadow mt-2"},u={class:"card-header"},c={class:"fw-bolder text-primary h4"},h={class:"float-end"},l={class:"card-body"},d={key:0,class:"questioner"},m={class:""},f={class:"row"},T={class:"col-lg-8 col-md-6"},p={class:"badge bg-primary"},b={class:"col-lg-4 col-md-6"},L={class:"float-end mb-2"},g={class:"text-primary fw-bolder h5"},k={class:"question-choices row"},v=["onClick"],w={key:1},C={class:"d-flex justify-content-center"};function E(t,e,s,E,x,y){const Q=(0,i.g2)("TimerLayout");return x.isLoading?((0,i.uX)(),(0,i.CE)("div",o,e[4]||(e[4]=[(0,i.Lk)("span",{class:"text-primary fw-bolder h4"},"LOADING...",-1)]))):((0,i.uX)(),(0,i.CE)("div",r,[e[7]||(e[7]=(0,i.Lk)("p",{class:"display-6 fw-bolder text-primary"},"ASSESSMENT FOR INCOMING 1ST CLASS",-1)),(0,i.Lk)("div",a,[(0,i.Lk)("div",u,[(0,i.Lk)("span",c,"TOTAL OF "+(0,n.v_)(x.questionNumber)+" QUESTIONS ",1),(0,i.Lk)("div",h,[(0,i.bF)(Q,{startingTime:x.startTime,finishFunction:y.finishExamination},null,8,["startingTime","finishFunction"])])]),(0,i.Lk)("div",l,[x.currentQuestion<x.questionList.length?((0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("div",m,[(0,i.Lk)("div",f,[(0,i.Lk)("div",T,[(0,i.Lk)("span",p,"QUESTION "+(0,n.v_)(x.currentQuestion+1),1)]),(0,i.Lk)("div",b,[(0,i.Lk)("div",L,[x.currentQuestion>0?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-outline-info me-3 btn-sm",onClick:e[0]||(e[0]=t=>y.previousQuestion())},"PREVIOUS")):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"btn btn-info text-white btn-sm",onClick:e[1]||(e[1]=t=>y.nextQuestion())},"NEXT")])])]),(0,i.Lk)("p",g,(0,n.v_)(x.questionList[x.currentQuestion].question.question),1),(0,i.Lk)("div",k,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(x.questionList[x.currentQuestion].question.choices_v2,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{class:"col-lg-6 col-md-12",key:e},[(0,i.Lk)("button",{class:(0,n.C4)(y.btnStyle(t.id)),onClick:e=>y.choiceAswer(t.id)},(0,n.v_)(t.choice_name),11,v)])))),128))])])])):((0,i.uX)(),(0,i.CE)("div",w,[e[6]||(e[6]=(0,i.Lk)("div",{class:"h4 text-secondary text-center fw-bolder"},"Do you want to Submit your Examination?",-1)),(0,i.Lk)("div",C,[x.currentQuestion>1?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-info mt-3 text-white me-3",onClick:e[2]||(e[2]=t=>y.finishExamination())},"YES (SUBMIT)")):(0,i.Q3)("",!0),e[5]||(e[5]=(0,i.Lk)("br",null,null,-1)),x.currentQuestion>1?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"btn btn-outline-info mt-3",onClick:e[3]||(e[3]=t=>y.previousQuestion())},"PREVIOUS")):(0,i.Q3)("",!0)])]))])])]))}s(4114);var x=s(5995),y=s(6278);const Q={class:"fw-bolder text-info h4"};function A(t,e,s,o,r,a){return(0,i.uX)(),(0,i.CE)("div",null,[e[0]||(e[0]=(0,i.Lk)("span",{class:"fw-bolder text-muted h4"},"EXAM TIMER: ",-1)),(0,i.Lk)("span",Q,(0,n.v_)(r.remainingTime),1)])}var q={name:"TimerComponent",props:{startingTime:String,finishFunction:Function},data(){const t=36e5,e=new Date(this.startingTime),s=e.getTime(),i=new Date(s+t);return{currentExamTime:this.startingTime?new Date(this.startingTime).getTime():this.currentTime(),endTime:i,remainingTime:this.formattedTime(i)}},mounted(){this.updateTime(this.endTime)},beforeUnmount(){clearInterval(this.timerInterval)},methods:{updateRemainingTime(){this.currentExamTime=this.startingTime?new Date(this.startingTime).getTime():this.currentTime()},updateTime(t){setInterval((()=>{this.remainingTime=this.formattedTime(t)}),1e3)},formattedTime(t){const e=(new Date).getTime(),s=t.getTime()-e;let i=Math.floor(s%864e5/36e5),n=Math.floor(s%36e5/6e4),o=Math.floor(s%6e4/1e3);return i<"10"&&(i="0"+i),n<"10"&&(n="0"+n),o<"10"&&(o="0"+o),s<0&&this.finishFunction(),i+":"+n+":"+o}}},I=s(6262);const S=(0,I.A)(q,[["render",A]]);var X=S,_=s(8465),O=s.n(_),N=s(4335),F={name:"Assessment View",data(){return{isLoading:!0,errors:[],questionList:[],questionNumber:[],currentQuestion:0,duration:36e5,timerInterval:null,startTime:null,answerActive:[],selectedChoices:[]}},components:{TimerLayout:X},computed:{...(0,y.L8)("auth",{token:x.tC,isAuth:x.dJ})},mounted(){const t="student/onboard/assessment/questioner";N.A.get(t,{headers:{Authorization:"Bearer "+this.token}}).then((t=>{this.data=t.data,this.questionList=this.data.questions,this.questionNumber=this.questionList.length,this.startTime=this.data.details.examination_start,this.isLoading=!1})).catch((t=>{console.log(t)}))},methods:{...(0,y.PY)({showLoading:x.Ts}),findQuestionIndex(t,e){for(let s=0;s<t.length;s++)if(t[s].question===e)return s;return-1},btnStyle(t){const e=this.questionList[this.currentQuestion].id,s=this.findQuestionIndex(this.selectedChoices,e);let i="btn btn-outline-primary w-100 mt-4";return-1!==s&&this.selectedChoices[s].choices===t&&(i="btn btn-primary w-100 mt-4"),i},selectChoice(t,e){const s=this.questionList[this.currentQuestion].id,i={question:s,choices:e},n=this.findQuestionIndex(this.selectedChoices,s);-1!==n?this.selectedChoices[n].choices=e:this.selectedChoices.push(i)},choiceAswer(t){const e=this.questionList[this.currentQuestion].id,s={question:e,choices:t},i=this.findQuestionIndex(this.selectedChoices,e);-1!==i?this.selectedChoices[i].choices=t:this.selectedChoices.push(s),N.A.post("/student/onboard/assessment/questioner",s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.token}}).then((t=>{})).catch((t=>{this.showLoading(!1),console.log(t),422===t.response.status?(console.log(t.response.data),this.errors=t.response.data.errors):this.showAlertError(t)})),console.log(s)},nextQuestion(){this.currentQuestion+=1},previousQuestion(){this.currentQuestion-=1},finishExamination(){this.showLoading(!0),N.A.post("/student/onboard/assessment/finish",{examination:this.data.details.id},{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.token}}).then((t=>{this.showLoading(!1),this.showAlert(t.data.data),setInterval((()=>{this.$router.push("/student/onboard/assessment/view")}),1e3)})).catch((t=>{this.showLoading(!1),console.log(t),422===t.response.status?(console.log(t.response.data),this.errors=t.response.data.errors,this.showAlertError(t)):this.showAlertError(t)}))},showAlertError(t){O().fire({icon:"error",title:t.code,text:t.message,confirmButtonText:"OK"})},showAlert(t){O().fire({icon:"success",title:"Success!",text:t.message,confirmButtonText:"OK"})}}};const M=(0,I.A)(F,[["render",E]]);var D=M}}]);
//# sourceMappingURL=139.86f72977.js.map